<div class="controls">
  <form [formGroup]="liveDataForm" (ngSubmit)="submit()">
    <div class="graph">
      <canvas id="live-chart" width="400" height="400"></canvas>
    </div>

    <br>
    <!--  Device Selection   -->
    <mat-form-field>
      <mat-label>Device</mat-label>
      <mat-select
        id="deviceSelect"
        formControlName="device"
        (selectionChange)="selectChange($event)">
        <mat-option *ngFor="let device of devices" [value]="device">
          {{device.uuid}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <br>

    <!--  Y Axis Selection   -->
    <mat-form-field>
      <mat-label>Field</mat-label>
      <mat-select
        id="fieldSelect"
        formControlName="field"
        (selectionChange)="selectChange($event)">
        <ng-container *ngIf="selectedDevice">
          <mat-option *ngFor="let field of selectedDevice.fields.items" [value]="field">
            {{field.name}}
          </mat-option>
        </ng-container>
      </mat-select>
    </mat-form-field>
    <input type="submit" value="Add Graph To Dashboard">
  </form>
</div>
