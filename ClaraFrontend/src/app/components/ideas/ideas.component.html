<!-- Top Bar -->
<div class="topBar">
  <h1>Ideas</h1>

  <div class="searchFilter">
    <div class="dropdown">
      <button class="dropbtn">Arrange By: {{ selectedFilter }}</button>
      <div class="dropdown-content">
        <ul>
          <li *ngFor="let arrangedFilter of arrangedFilters">
            <a (click)="selectFilter(arrangedFilter)">{{ arrangedFilter }}</a>
          </li>
        </ul>
      </div>
    </div>

    <form id="searchDataForm" [formGroup]="searchForm" (ngSubmit)="search()">
      <input type="text" id="search" formControlName="searchValue" placeholder="Search">
      <input type="submit" name="searchSubmit" value="See All Results">
      <button>
        <img src="./assets/vectors/downArrow.svg" alt="">
      </button>
    </form>
  </div>
</div>

<button id="postButton" (click)="viewNewPost()">New Post</button>

<!-- Posts Feed -->
<div class="container">
  <div class="leftContainer">
    <div class="postedIdeas">
      <ul>
        <li *ngFor="let post of posts">
          <app-idea-node [post]=post></app-idea-node>
        </li>
      </ul>
    </div>
  </div>
</div>

<!-- New Post Panel -->
<div class="newPostPanel" (ngSubmit)="submitPost()"
  [ngStyle]="{'display': toggleNewPostView === true ? 'block' : 'none'}">
  <button id="closeNewPostPanelBtn" (click)="closeNewPost()">x</button>

  <form [formGroup]="newPostForm">
    <h4>Title</h4>
    <input formControlName="title" type="text" placeholder="Title">
    <div *ngIf="newPostSubmitted && newPostForm.title.errors" class="invalid-feedback">
      <div *ngIf="newPostForm.title.errors.required">a title is required</div>
    </div>
    <h4>Description</h4>
    <textarea formControlName="description" cols="30" rows="10" placeholder="Description"></textarea>
    <select formControlName="filterSelect">
      <option [value]="filter" *ngFor="let filter of filters">{{ filter }}</option>
    </select>
    <input type="submit" value="Post Idea">
  </form>
</div>