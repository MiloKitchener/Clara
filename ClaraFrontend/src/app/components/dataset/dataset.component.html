<div class="submitDatasetPanel" [ngStyle]="{'display': (datasetUploadView === true) ? 'block' : 'none'}">
	<div [ngStyle]="{'display': uploadedDataset === null ? 'block' : 'none'}">
		<form [formGroup]="uploadForm" (ngSubmit)="uploadDataset()">
			<input type="text" formControlName="url" placeholder="Database URL">
			<br>
			<input type="submit" value="Upload Dataset">
		</form>
		<button id="closeDatasetPanelBtn" (click)="toggleDatasetUpload()">Cancel</button>
	</div>
	<div class="submitDatasetProceedPanel" [ngStyle]="{'display': uploadedDataset === null ? 'none' : 'block'}">
		<h3>{{ uploadedDatasetName }}</h3>
		<ul class="datasetFields">
			<li *ngFor="let field of uploadedDatasetFields">
				{{ field.field_name }}
			</li>
		</ul>
		<button>Upload Dataset</button>
		<button id="closeDatasetPanelBtn" (click)="toggleDatasetUpload();this.uploadedDataset=null;">Cancel</button>
	</div>
</div>

<div class=searchPanel>
	<h1>Find a Dataset</h1>

	<ul class="buttonsPanel">
		<li>
			<button (click)="setSelectedDataset('Open Data')">Open Datasets</button>
		</li>
		<li>
			<button (click)="setSelectedDataset('Live Data')">Live Data</button>
		</li>
		<li>
			<button (click)="setSelectedDataset('Imported Data')">Imported Data</button>
		</li>
		<li>
			<button (click)="setSelectedDataset('Authenticated API Data')">Authenticated API Data</button>
		</li>
	</ul>
</div>

<div class="container">
	<h2>{{ selectedDataset }}</h2>



	<form id="searchDataForm" [formGroup]="searchForm" (ngSubmit)="search()">
		<input type="text" id="search" formControlName="searchValue" placeholder="Search">
		<input type="submit" name="searchSubmit" value="See All Results">
	</form>

	<div class="datasetStats">
		<div>
			<h3 id="numOpen">{{ numSets }}</h3>
			<p>Datasets</p>
		</div>
		<div>
			<h3 id="numAccepted">{{ numRecentlyUpdated }}</h3>
			<p>Recently Updated</p>
		</div>
		<div>
			<h3 id="numNotMapped">{{ numOutOfDate }}</h3>
			<p>Out of Date</p>
		</div>
		<div>
			<h3 id="numUnderReview">{{ numUnderReview }}</h3>
			<p>Under Review</p>
		</div>
	</div>

	<ul id="datasetsList">
		<li *ngFor="let dataset of datasets">
			<div class="titleDesc">
				<h3>{{ dataset.name }}</h3>
				<p>{{ dataset.desc }}</p>
			</div>
		</li>
	</ul>
	<button class="datasetUploadBtn" (click)="toggleDatasetUpload()">Upload a Dataset</button>
</div>