<div class="graph-panel-container">
  <div class="main-container">
    <button class="close-btn" (click)="closeGraphPanel()">Close</button>
    <!-- Tab links -->
    <div class="tab">
      <button class="tablinks" id="openDataTab" (click)="openTab('Open Data')">Open Data</button>
      <button class="tablinks" id="liveDataTab" (click)="openTab('Live Data')">Live Data</button>
    </div>
    <hr>
    <div class="main">
      <!-- Tab content -->
      <div id="openData" class="tabcontent">
        <div class="controls">
          <!-- Y Axis Selection -->
          <h4>Y Axis</h4>
          <br>
          <div class="dropdown">
            <button class="dropbtn">
              <div *ngIf="yDataset">{{ yDataset.name }}</div>
              <div *ngIf="!yDataset">Dataset</div>
          </button>
            <div class="dropdown-content">
              <ul>
                <li *ngFor="let dataset of datasets; let i = index">
                  <a (click)="setYAxis(i)">{{ dataset.name }}</a>
                </li>
              </ul>
            </div>
          </div>
          <br>
          <br>
          <div class="dropdown">
            <button class="dropbtn">
              <div *ngIf="yField">{{ yField.name }}</div>
              <div *ngIf="!yField">Field</div>
            </button>
            <div class="dropdown-content">
              <ul>
                <li *ngFor="let field of yFields; let i = index">
                  <a (click)="selectYField(i)">{{ field.name }}</a>
                </li>
              </ul>
            </div>
          </div>

          <br>
          <br>

          <!-- X Axis Selection -->
          <h4>X Axis</h4>
          <br>
          <div class="dropdown">
            <button class="dropbtn">
              <div *ngIf="xDataset">{{ xDataset.name }}</div>
              <div *ngIf="!xDataset">Dataset</div>
            </button>
            <div class="dropdown-content">
              <ul>
                <li *ngFor="let dataset of datasets; let i = index">
                  <a (click)="setXAxis(i)">{{ dataset.name }}</a>
                </li>
              </ul>
            </div>
          </div>
          <br>
          <br>
          <div class="dropdown">
            <button class="dropbtn">
              <div *ngIf="xField">{{ xField.name }}</div>
              <div *ngIf="!xField">Field</div>
            </button>
            <div class="dropdown-content">
              <ul>
                <li *ngFor="let field of xFields; let i = index">
                  <a (click)="selectXField(i)">{{ field.name }}</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="graph">
          <canvas id="myChart" width="400" height="400"></canvas>
          <button class="addBtn" (click)="addGraph()">Add Graph to Dashboard</button>
        </div>
      </div>
      <div id="liveData" class="tabcontent">
        <app-live-data-graph-panel></app-live-data-graph-panel>
      </div>
    </div>
  </div>
</div>